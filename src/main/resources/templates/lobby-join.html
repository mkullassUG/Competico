<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Jekyll v4.1.1">
    <title>index</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/cover/">
    <link rel="icon" href="./assets/myIcons/icon.svg">
    <!-- Bootstrap core CSS -->
<link href="css/bootstrap.min.css" rel="stylesheet">

    <style>
      .bd-placeholder-img {
        font-size: 1.125rem;
        text-anchor: middle;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        user-select: none;
      }

      @media (min-width: 768px) {
        .bd-placeholder-img-lg {
          font-size: 3.5rem;
        }
      }
    </style>
    <!-- Custom styles for this template -->
    <link href="css/lobby-join.css" rel="stylesheet">
  </head>
  <body class="bg-primary">
    <nav class="navbar navbar-expand-lg navbar-dark bg-primary navbar-fixed-top">
      <div class="container-xl">
        <a class="navbar-brand" href="/">
          <img src="./assets/myIcons/iconbig.svg" class="d-block mx-auto iconbig">
        </a>
        <button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbarsExample08" aria-controls="navbarsExample08" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      
        <div class="navbar-collapse justify-content-md-center collapse" id="navbarsExample08" >
          <ul class="navbar-nav">
            <li class="nav-item">
              <a class="nav-link" href="/">Strona Domowa</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Cechy</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Wsparcie</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="register">Rejestracja</a>
            </li>
            <li class="nav-item">
              <a class="nav-link active" href="login">Zaloguj</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container fill text-center">
      <div class="row m-auto" >
        <div class="col-12">
          <h2>Szukaj gry</h2>
          <button type="button" id="btnSearch" class="btn btn-lg 
          btn-secondary">Szukaj</button>
        </div>
        <div class="col-12 col-sm-6">
          <h2>Stwórz grę</h2>
          <button type="button" id="btnHost" class="btn btn-lg btn-secondary">Stwórz</button>
        </div>
        <div class="col-12 col-sm-6">
          <h2>Wprowadź kod</h2>
          <input type="text" class="input-lg form-control" id="inputCode" placeholder="Kod">
          <div class="collapse" id="btnJoinCodeCollapse">
            <button type="button" id="btnJoinCode" class="btn btn-lg btn-secondary">Dołącz</button>
          </div>
          <div class="invisible" id="btnJoinCodeInvisible">
            <button type="button" class="btn btn-lg btn-secondary" >Dołącz</button>
          </div>
        </div>
      </div>
    </div>
    <footer class="footer">
      <div class="container text-center">
        <span class="text-muted m-auto">Ucz się angielskiego razem z nami</span>
      </div>
    </footer>
  </body>
</html>
<script src="js/jquery-3.5.1.min.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script>

  $("#btnJoinCode").on("click",()=>{
    //console.log("btnJoinCode");
    $.ajax({
      type     : "POST",
      cache    : false,
      url      : "game/" + $("#inputCode")[0].value,
      data     : JSON.stringify({text: "joincode"}),
      contentType: "application/json",
      success: function(data, textStatus, jqXHR) {

      },
      error: function(data, textStatus, err) {
        console.warn("status: " + err.status  + ": " + err);
      }
    });
  });

  $("#btnHost").on("click",()=>{
    //console.log("btnHost");
    $.ajax({
      type     : "POST",
      cache    : false,
      url      : "lobby/create",
      data     : JSON.stringify({text: "create"}),
      contentType: "application/json",
      success: function(data, textStatus, jqXHR) {

      },
      error: function(data, textStatus, err) {
          console.warn("status: " + err.status  + ": " + err);
      }
    });
  });
  $("#btnSearch").on("click",()=>{
    //console.log("btnSearch");
    $.ajax({
      type     : "POST",
      cache    : false,
      url      : "lobby/join",
      data     : JSON.stringify({text: "join"}),
      contentType: "application/json",
      success: function(data, textStatus, jqXHR) {

      },
      error: function(data, textStatus, err) {
          console.warn("status: " + err.status  + ": " + err);
      }
    });
  });

  $("#inputCode").on("click input paste change focus keypress", (e)=> {
    if ($("#inputCode")[0].value != "") {
      $("#btnJoinCodeInvisible").hide();
      $("#btnJoinCodeCollapse").show();
    } else {
      $("#btnJoinCodeInvisible").show();
      $("#btnJoinCodeCollapse").hide();
    }

  })
</script>