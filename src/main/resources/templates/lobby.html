<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="Language learning game">
  <meta name="author" content="Artur, Michał">
  <title>Lobby</title>

  <link rel="canonical" href="https://getbootstrap.com/docs/4.5/examples/cover/">
  <link rel="icon" href="/assets/myIcons/CompeticoLogo.svg">
  <!-- Bootstrap core CSS -->
  <!-- <link href="css/bootstrap.min.css" rel="stylesheet"> -->
  <link rel="stylesheet" href="/css/bootstrap/bootstrap.min.css">
  <link rel="stylesheet" href="/css/bootstrap/font-awesome.min.css">
  <!-- Custom styles for this template -->
  <link href="/css/lobby.css" rel="stylesheet"> 
  <link href="/css/global.css" rel="stylesheet">
  <link href="/css/task.css" rel="stylesheet"> 
  
  <link href="/js/jquery/jquery-plugins/jquery-ui.min.css" rel="stylesheet">
  <script src="/js/jquery/jquery-3.5.1.min.js"></script>
  <script src="/js/jquery/jquery-plugins/jquery-ui.min.js"></script>
  <script src="/js/jquery/jquery-plugins/jquery-ui-touch-punch.min.js"></script>
  <script src="/js/jquery/jquery-plugins/jquery-simulate.js"></script>
  <script src="/js/jquery/jquery-plugins/jquery.simulate.drag-sortable.js"></script>
  <script src="/js/jsPlumb/jsPlumb.js"></script>

  
</head>

<body class="bg-primary">
  <!-- main content -->
  <div class="pt-3 pb-0 pt-sm-5 pb-sm-5 container fill text-center hideBeforeLoad" id="bigChangeDiv">
    <div class="row  rounded collapse" id="lobbyTop">
      <div class="col-4 col-sm-3">
        <buton class="btn btn-sm btn-secondary btnShadow btn-custom-animation mt-2" id="btnCopyCode">Kopiuj kod</buton>
      </div>
      <div class="col-8 col-sm-9">
        <h2 id="lobbyCode" class="text-white">Kod: </h2>
      </div>
    </div>
    <div class="row  mt-sm-3 rounded collapse" id="lobbyCenter">
      <div class="col-2 " id="lobbySettings">
        
        <span class="fillForTooltip" data-toggle="tooltip" data-placement="top" title="Ustawienia lobby.">
          <button type="button" id="btnSettings" class="btn btn-secondary btn-custom-animation collapse btnShadow" data-toggle="modal" data-target="#exampleModalCenter">
            
              <svg width="1em" height="1em" viewBox="0 0 16 16" class="bi bi-gear" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" d="M8.837 1.626c-.246-.835-1.428-.835-1.674 0l-.094.319A1.873 1.873 0 0 1 4.377 3.06l-.292-.16c-.764-.415-1.6.42-1.184 1.185l.159.292a1.873 1.873 0 0 1-1.115 2.692l-.319.094c-.835.246-.835 1.428 0 1.674l.319.094a1.873 1.873 0 0 1 1.115 2.693l-.16.291c-.415.764.42 1.6 1.185 1.184l.292-.159a1.873 1.873 0 0 1 2.692 1.116l.094.318c.246.835 1.428.835 1.674 0l.094-.319a1.873 1.873 0 0 1 2.693-1.115l.291.16c.764.415 1.6-.42 1.184-1.185l-.159-.291a1.873 1.873 0 0 1 1.116-2.693l.318-.094c.835-.246.835-1.428 0-1.674l-.319-.094a1.873 1.873 0 0 1-1.115-2.692l.16-.292c.415-.764-.42-1.6-1.185-1.184l-.291.159A1.873 1.873 0 0 1 8.93 1.945l-.094-.319zm-2.633-.283c.527-1.79 3.065-1.79 3.592 0l.094.319a.873.873 0 0 0 1.255.52l.292-.16c1.64-.892 3.434.901 2.54 2.541l-.159.292a.873.873 0 0 0 .52 1.255l.319.094c1.79.527 1.79 3.065 0 3.592l-.319.094a.873.873 0 0 0-.52 1.255l.16.292c.893 1.64-.902 3.434-2.541 2.54l-.292-.159a.873.873 0 0 0-1.255.52l-.094.319c-.527 1.79-3.065 1.79-3.592 0l-.094-.319a.873.873 0 0 0-1.255-.52l-.292.16c-1.64.893-3.433-.902-2.54-2.541l.159-.292a.873.873 0 0 0-.52-1.255l-.319-.094c-1.79-.527-1.79-3.065 0-3.592l.319-.094a.873.873 0 0 0 .52-1.255l-.16-.292c-.892-1.64.902-3.433 2.541-2.54l.292.159a.873.873 0 0 0 1.255-.52l.094-.319z"></path>
                <path fill-rule="evenodd" d="M8 5.754a2.246 2.246 0 1 0 0 4.492 2.246 2.246 0 0 0 0-4.492zM4.754 8a3.246 3.246 0 1 1 6.492 0 3.246 3.246 0 0 1-6.492 0z"></path>
              </svg>
          </button>
        </span>
      </div>
      <div class="col-10" id="lobbyMainHost">
        <div id="lobbyHost" class="d-flex align-items-center p-3 my-3 text-dark-50 bg-light rounded btnShadow">
          <div class="col-12">
            <h6 class="border-bottom border-gray pb-2 mb-0">
              <img class="mr-3" src="/assets/myIcons/iconfinder_law_iconsArtboard_1_copy_5_2393033.svg" alt="logo" width="48" height="48">
              Host:
            </h6>
            <div class="lh-100">
              <h6 class="mb-0 text-dark lh-100" id="lobbyHostUsername">@username</h6>
              <small></small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-12" id="lobbyMainPlayers">
        <div id="lobbyplayers" class="my-3  bg-light rounded btnShadow">
          <h6 class="border-bottom border-gray p-3 pb-2 mb-0 text-dark " id="lobbyMaxPlayers">Gracze</h6>
          <div id="lobbyPlayersTable" class="p-3">

          </div>
        </div>
      </div>
    </div>
    <div class="row mt-sm-3 rounded collapse" id="lobbyBottom">
      <div class="col-5 col-sm-4">
        <buton class="btn btn-lg btn-secondary btn-custom-animation mb-3 float-left btnShadow" id="btnLeave" data-toggle="modal" data-target="#leaveModalCenter">Wyjdź z lobby</buton>
      </div>
      <div class="col-2 col-sm-4">
      </div>
      <div class="col-5 col-sm-4">
        <buton class="btn btn-lg btn-secondary btn-custom-animation collapse mb-3 float-right btnShadow" data-toggle="modal" data-target="#startGameModalCenter" id="btnStart">Rozpocznij gre</buton>
      </div>
    </div>
    <!-- game -->
    <div class="row collapse" id="gameTop">
      <div class="col-12">
        <div id="cy"></div>
      </div>
      <div class="col-12">
        <div id="gameInstruction">Obecne zadanie</div>
      </div>
    </div>
    <div class="row  mt-3 rounded collapse" id="gameCenter">
      <div class="col-12" id="GameWrapperDiv">
        <div class="m-custom my-3 p-3 rounded gameDivDecoration">
          <div class="bg-light unselectable btnShadow" id="GameDiv">
            Ładowanie zadanka
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-3 text-center button-m-custom collapse" id="gameBottom">
      <div class="col-12">
        <buton class="btn btn-lg btn-secondary mb-3 btnShadow" id="btnNextTask" data-toggle="modal" data-target="#answerModalCenter">Nastepne zadanie</buton>
      </div>
    </div>
    <!-- end game -->
    <div class="row mt-3 collapse" id="gameEndCenter">
      <div class="col-12">
        <h2 class="text-white">Dziękuję za grę</h2>
        <div id="endGameDashboard" >
          <div class="col-12" id="endGameWrapperDiv">
            <div class="m-custom my-3 p-3 rounded gameDivDecoration">
              <div class="bg-light unselectable btnShadow" id="endGameDiv">
                <table class="table table-sm">
                  <thead>
                    <tr>
                      <th scope="col">#</th>
                      <th scope="col">Nazwa</th>
                      <th scope="col">Wynik</th>
                      <th scope="col">Czas</th>
                    </tr>
                  </thead>
                  <tbody id="scoreTable">
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row mt-3 collapse" id="gameEndBottom">
      <div class="col-12">
        <buton class="btn btn-lg btn-secondary mb-3 btnShadow" id="btnEndGame">Zakończ grę</buton>
      </div>
    </div>
  </div>

  <!-- Modal settings-->
  <div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="exampleModalLongTitle">Ustawienia Lobby</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body"> 
          <div class="custom-control custom-switch">
            <input type="checkbox" class="custom-control-input" id="allowsRandomPlayersCB">
            <label class="custom-control-label" for="allowsRandomPlayersCB">Pozwalam na losowych graczy.</label>
          </div>
          <div>
            <hr>
            <label for="inputMaxPlayers" class="col-form-label">Max graczy:</label>
            <input type="number" class="form-control" id="inputMaxPlayers" value="10">
          </div>
          
          <div class="custom-control custom-switch  lectorEnableClass collapse">
            <hr>
            <input type="checkbox" class="custom-control-input" id="customTasksCB">
            <label class="custom-control-label" for="customTasksCB">Moje zestawy zadań.</label>
          </div>


          <div class="row" id="dualList">
            <div class="col-6">
              <div class="row mr-1 ml-1">
                <label for="duallist-non-selected" id="duallist-non-selected-label"><span id="duallist-non-selected-label-part1">Pozostałe zestawy:</span><span id="duallist-non-selected-label-part2"></span></label>
              </div>
              <div class="row mr-1 ml-1">
                <span class="info-container">     
                  <span class="d-inline-block mb-1" style="font-size:11px;">
                    Showing all 
                  </span>     
                </span>
              </div>
              <div class="row mr-1 ml-1">
                <input class="form-control w-100 text-dark mb-1 input-text-filter" type="text" placeholder="Filter">
              </div>
              <div class="row mr-1 ml-1">
                <button class="btn btn-lg btn-outline-secondary w-50 input-move-multi" style="border-radius: 0px; border-top-left-radius: .3rem; border-bottom: none;z-index: 2;">&#62;&#62;</button>
                <button class="btn btn-lg btn-outline-secondary w-50 input-move-one" style="border-radius: 0px; border-top-right-radius: .3rem; border-bottom: none;z-index: 2;">&#62;</button>
              </div>
              <div class="row mr-1 ml-1">
                <select class="w-100 inputSel" multiple="multiple" id="duallist-non-selected" name="duallist-non-selected" style="height: 222px;">
                  <option value="option1">
                    Option 1
                  </option>
                  <option value="option2">
                    Option 2
                  </option>
                  <option value="option4">
                    Option 4
                  </option>
                  <option value="option5">Option 5</option><option value="option7">Option 7</option><option value="option8">Option 8</option><option value="option9">Option 9</option><option value="option0">Option 10</option><option value="option0">Option 11</option><option value="option0">Option 12</option><option value="option0">Option 13</option><option value="option0">Option 14</option><option value="option0">Option 15</option><option value="option0">Option 16</option><option value="option0">Option 17</option><option value="option0">Option 18</option><option value="option0">Option 19</option><option value="option0">Option 20</option>
                </select>
              </div>
            </div>
            
            <div class="col-6">
              <div class="row mr-1 ml-1">
                <label for="duallist-selected" id="duallist-selected-label"><span id="duallist-selected-label-part1">Użyj zestawów:</span><span id="duallist-selected-label-part2"></span></label>
              </div>
              <div class="row mr-1 ml-1">
                <span class="info-container">     
                  <span class="d-inline-block mb-1" style="font-size:11px;">
                    Showing all 
                  </span>     
                </span>
              </div>
              <div class="row mr-1 ml-1">
                <input class="form-control w-100 text-dark mb-1 output-text-filter" type="text" placeholder="Filter">
              </div>
              <div class="row mr-1 ml-1">
                <button class="btn btn-lg btn-outline-secondary w-50 output-move-one" style="border-radius: 0px; border-top-left-radius: .3rem; border-bottom: none;z-index: 2;">&#60;</button>
                <button class="btn btn-lg btn-outline-secondary w-50 output-move-multi" style="border-radius: 0px; border-top-right-radius: .3rem; border-bottom: none;z-index: 2;">&#60;&#60;</button>
              </div>
              <div class="row mr-1 ml-1">
                <select class="w-100 outputSel" multiple="multiple" id="duallist-selected" name="duallist-selected" style="height: 222px;">
                  
                </select>
              </div>
            </div>
          </div>

        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSaveSettings">Save changes</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal send answer-->
  <div class="modal fade" id="answerModalCenter" tabindex="-1" role="dialog" aria-labelledby="answerModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="answerModalLongTitle">Czy na pewno przesłać rozwiązanie?</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSendAnswer">Prześlij</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal start game -->
  <div class="modal fade" id="startGameModalCenter" tabindex="-1" role="dialog" aria-labelledby="startGameModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="startGameModalLongTitle">Czy wszyscy są gotowi do gry?</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSendStartGame">Start</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal leave lobby-->
  <div class="modal fade" id="leaveModalCenter" tabindex="-1" role="dialog" aria-labelledby="leaveModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="leaveModalLongTitle">Czy na pewno wyjśc z lobby?</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSendleave">Wyjdź</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal kick player -->
  <div class="modal fade" id="kickModalCenter" tabindex="-1" role="dialog" aria-labelledby="kickModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="kickModalLongTitle">Czy na pewno usunąć gracza?</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Anuluj</button>
          <button type="button" class="btn btn-primary" data-dismiss="modal" id="btnSendkick">Wyjdź</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Modal lobby not exist-->
  <div class="modal fade" id="LobbyDeletedModalCenter" tabindex="-1" role="dialog" aria-labelledby="LobbyDeletedModalCenterTitle" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="LobbyDeletedModalLongTitle">Lobby zostało zakończone przez Hosta</h4>
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-footer center-block">
          <button type="button" class="btn btn-danger" data-dismiss="modal" id="btnSendLobbyDeleted">Wróć na poprzednią stronę</button>
        </div>
      </div>
    </div>
  </div>
  <!-- loading modal -->
  <div class="hideBeforeLoadModal fade bd-example-modal-lg" data-backdrop="static" data-keyboard="false" tabindex="-1">
    <div class="modal-dialog modal-sm">
        <div class="modal-content" style="width: 48px">
            <span class="fa fa-spinner fa-spin fa-3x"></span>
        </div>
    </div>
  </div>
  
  <script src="/js/bootstrap/popper.min.js"></script>
  <script src="/js/bootstrap/bootstrap.min.js"></script>

  <script src="/js/game-logic.js"></script>

  <script src="/js/tasks/tasksGameVariants/TaskGameVariant.js"></script>
  <script src="/js/tasks/tasksGameVariants/ChronologicalOrder_Game.js"></script>
  <script src="/js/tasks/tasksGameVariants/WordConnect_Game.js"></script>
  <script src="/js/tasks/tasksGameVariants/WordFill_Game.js"></script>
  <script src="/js/tasks/tasksGameVariants/ListWordFill_Game.js"></script>
  <script src="/js/tasks/tasksGameVariants/ListChoiceWordFill_Game.js"></script>
  <script src="/js/tasks/tasksGameVariants/ListSentenceForming_Game.js"></script>
  <script src="/js/tasks/tasksGameVariants/OptionSelect_Game.js"></script>

  <script src="/js/tasks/task-game-core.js"></script>

  <script src="/js/lobby-logic.js"></script>
  <script src="/js/dual-list-logic.js"></script>
  <script src="/js/cyto/cytoscape.min.js"></script>
  <script>
      LobbyModule().getInstance();
  </script>
</body>
</html>
